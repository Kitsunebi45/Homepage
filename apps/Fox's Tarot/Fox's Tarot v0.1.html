<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Fox's Tarot</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Georgia', serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #0f0f1e 100%);
      color: #fff;
      min-height: 100vh;
      padding: 20px;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
    }

    .header h1 {
      font-size: 3em;
      color: #ff69b4;
      text-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
      margin-bottom: 10px;
    }

    .header p {
      color: #87ceeb;
      font-style: italic;
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 40px;
      flex-wrap: wrap;
    }

    button {
      background: linear-gradient(135deg, #ff69b4 0%, #ff1493 100%);
      border: none;
      color: white;
      padding: 12px 30px;
      font-size: 1em;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 105, 180, 0.5);
    }

    .deck-selector {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .deck-btn {
      background: linear-gradient(135deg, #87ceeb 0%, #4682b4 100%);
      padding: 10px 20px;
      font-size: 0.9em;
    }

    .deck-btn.active {
      background: linear-gradient(135deg, #ff69b4 0%, #ff1493 100%);
    }

    .spread-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin: 40px 0;
      min-height: 300px;
    }

    .card {
      width: 180px;
      height: 300px;
      background: linear-gradient(135deg, #2a2a3e 0%, #1a1a2e 100%);
      border: 2px solid #ff69b4;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
    }

    .card:hover {
      transform: translateY(-10px) scale(1.05);
      box-shadow: 0 12px 35px rgba(255, 105, 180, 0.4);
      border-color: #87ceeb;
    }

    .card.flipped {
      background: linear-gradient(135deg, #ff69b4 0%, #ff1493 100%);
    }

    .card-back {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card-front {
      width: 100%;
      height: 100%;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      text-align: center;
    }

    .card.flipped .card-back {
      display: none;
    }

    .card.flipped .card-front {
      display: flex;
    }

    .card-number {
      font-size: 1.2em;
      color: #87ceeb;
      font-weight: bold;
    }

    .card-title {
      font-size: 1.5em;
      color: white;
      margin: 10px 0;
      font-weight: bold;
    }

    .card-suit {
      font-size: 0.9em;
      color: #ff69b4;
      font-style: italic;
    }

    .card-icon {
      font-size: 4em;
      margin: 20px 0;
    }

    .card-meaning {
      font-size: 0.85em;
      color: #fff;
      line-height: 1.4;
      max-height: 120px;
      overflow-y: auto;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: linear-gradient(135deg, #2a2a3e 0%, #1a1a2e 100%);
      border: 3px solid #ff69b4;
      border-radius: 20px;
      padding: 40px;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 0 50px rgba(255, 105, 180, 0.5);
    }

    .modal-content h2 {
      color: #ff69b4;
      margin-bottom: 10px;
      font-size: 2em;
    }

    .modal-content .suit {
      color: #87ceeb;
      font-style: italic;
      margin-bottom: 20px;
    }

    .modal-content .meaning {
      color: #fff;
      line-height: 1.8;
      margin-bottom: 20px;
    }

    .close-modal {
      background: linear-gradient(135deg, #87ceeb 0%, #4682b4 100%);
      margin-top: 20px;
    }

    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #1a1a2e;
    }

    ::-webkit-scrollbar-thumb {
      background: #ff69b4;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>ü¶ä The Fox's Tarot ‚õ©Ô∏è</h1>
    <p>Based on Inari Okami and the Kitsune</p>
  </div>

  <div class="deck-selector">
    <button class="deck-btn active" data-deck="major">Major Arcana</button>
    <button class="deck-btn" data-deck="kitsune">Kitsune (Fire/Wands)</button>
    <button class="deck-btn" data-deck="kame">Kame (Water/Cups)</button>
    <button class="deck-btn" data-deck="tengu">Tengu (Air/Swords)</button>
    <button class="deck-btn" data-deck="tanuki">Tanuki (Earth/Pentacles)</button>
  </div>

  <div class="controls">
    <button id="drawOne">Draw One Card</button>
    <button id="drawThree">Three Card Spread</button>
    <button id="clearSpread">Clear Spread</button>
  </div>

  <div class="spread-container" id="spread"></div>

  <div class="modal" id="modal">
    <div class="modal-content">
      <h2 id="modalTitle"></h2>
      <p class="suit" id="modalSuit"></p>
      <div class="meaning" id="modalMeaning"></div>
      <button class="close-modal" id="closeModal">Close</button>
    </div>
  </div>

  <script>
    const majorArcana = [
      { num: 0, name: "The Kit", meaning: "Innocent wisdom, the beginning of the journey. One tail‚Äîthe young fox who is already wise but doesn't know it yet. Playful curiosity meets ancient knowing.", icon: "ü¶ä" },
      { num: 1, name: "Flow", meaning: "Intent meeting action. The river that shapes reality. In chaos magic, in Shinto, in shamanic practice‚Äîyou don't force, you flow. Natural alignment with power.", icon: "üåä" },
      { num: 2, name: "Inari", meaning: "Divine mystery, guardian of thresholds, keeper of secrets and abundance. Both masculine and feminine, gentle and fierce. The one who watches over your journey.", icon: "‚õ©Ô∏è" },
      { num: 3, name: "The Shrine Gate", meaning: "Threshold between worlds. The torii you cross after meeting the divine. Sacred passage from mundane to mystical. Commitment to the path.", icon: "‚õ©Ô∏è" },
      { num: 4, name: "The Eye", meaning: "Perspective. Stepping back to see the bigger picture. Shamanic sight. The fox's keen vision. Not lost in details but seeing the whole pattern.", icon: "üëÅÔ∏è" },
      { num: 5, name: "The Story", meaning: "Tradition, lineage, the tales that teach. In shamanic practice, stories carry wisdom. The myths that shape us. What the elders tell.", icon: "üìñ" },
      { num: 6, name: "The Cage", meaning: "Self-imposed limitations. The prison we build from beliefs, fears, trauma. The bars are stories we tell ourselves. Isolation we create.", icon: "üîí" },
      { num: 7, name: "The Web", meaning: "Seeing the threads for the first time. The cage transforms‚Äîthose aren't just bars, they're connections. Everything links. The pull, the intuition beginning.", icon: "üï∏Ô∏è" },
      { num: 8, name: "Community", meaning: "Not individual strength but collective power. Pack mentality. The threads lead to others. Strength through connection and belonging.", icon: "üë•" },
      { num: 9, name: "The Rice Harvest", meaning: "Abundance made manifest. Inari's blessing tangible. First fruits of the journey. Prosperity, nourishment, gratitude for what grows.", icon: "üåæ" },
      { num: 10, name: "Unity", meaning: "Sacred union, integration of dualities. Zenko and Yako. Light and shadow. Self and other. Not just romantic love but the bringing together of all parts.", icon: "‚òØÔ∏è" },
      { num: 11, name: "Ikigai", meaning: "Self-acceptance. Your reason for being. Moving forward through alignment with purpose, not force. Where passion, mission, vocation, and profession meet.", icon: "üéØ" },
      { num: 12, name: "The Hanged One", meaning: "Sacrifice brings new perspective. Suspension between worlds. Seeing from a different angle. What you release to gain wisdom.", icon: "üôÉ" },
      { num: 13, name: "The Black Mirror", meaning: "True seeing. Shadow integration. Looking at yourself‚Äîall of it‚Äîand not turning away. Death of false self, birth of truth.", icon: "ü™û" },
      { num: 14, name: "The Loom", meaning: "Fate, weaving, laughing at the threads. The wild Yako showing you the web you've woven. Your choices, your patterns. Cosmic humor.", icon: "üï∏Ô∏è" },
      { num: 15, name: "Kitsunebi", meaning: "Foxfire. Bound by your own power. The seductive danger of your own flames. Mesmerized by your magic. Beautiful bondage of illusion.", icon: "üî•" },
      { num: 16, name: "The Unmasking", meaning: "The false self shatters. The mask you didn't know you wore cracks and falls. True face emerging. Terrifying liberation. More tails visible now.", icon: "üé≠" },
      { num: 17, name: "The Signal", meaning: "Hope after unmasking. The transmission from divine. You can finally RECEIVE. Guidance emerging. The pull, the knowing, the connection restored.", icon: "üì°" },
      { num: 18, name: "The Blood Moon", meaning: "Illusion and intuition. The liminal space. Transformation through blood. Wild magic. The fog, the adjustment, the in-between. Red moon of change.", icon: "üåï" },
      { num: 19, name: "The Source", meaning: "Clarity, vitality, origin of all. The wellspring. Soul loaded into Signal like a cannon. Reconnecting to yourself, to the sun that powers everything.", icon: "‚òÄÔ∏è" },
      { num: 20, name: "Kami", meaning: "Divine spirits in all things. Sacred presence everywhere. Recognizing the animating force in everything. The sacred made visible.", icon: "‚ú®" },
      { num: 21, name: "Musubi", meaning: "Creative life force. The binding energy that connects and creates. Becoming itself. The force that gives birth, that grows, that links all.", icon: "üå∏" },
      { num: 22, name: "The Sacred Mirror", meaning: "Seeing clearly in integration. Not the black mirror of shadow work but the polished mirror of clarity. Truth reflected perfectly.", icon: "ü™û" },
      { num: 23, name: "The Jewel", meaning: "The H≈çju, wish-granting jewel. Spiritual treasure earned through the journey. Manifestation of deepest desires. The prize.", icon: "üíé" },
      { num: 24, name: "The Offering", meaning: "Reciprocity. Devotion. Exchange between realms. What you give to the shrine, to the spirits, to the journey. Gratitude made tangible.", icon: "üçö" },
      { num: 25, name: "No One", meaning: "The void. Ego dissolution. Depression's 'I am nothing' meeting enlightenment's 'I am No One and therefore everyone.' Necessary emptiness before fullness.", icon: "‚ö´" },
      { num: 26, name: "Misogi", meaning: "Purification. Ritual cleansing under the waterfall. Not judgment from outside but self-cleansing for rebirth. Releasing what no longer serves.", icon: "üíß" },
      { num: 27, name: "The Nine Tails", meaning: "Ultimate integration. Mastery. Wisdom embodied. The Kit has grown through every trial, earned every tail. Completion. Divinity realized.", icon: "ü¶ä" }
    ];

    const minorArcana = {
      kitsune: {
        name: "Kitsune",
        element: "Fire/Wands",
        cards: generateMinorSuit("Kitsune", "ü¶ä", "Action, magic, transformation, cunning")
      },
      kame: {
        name: "Kame",
        element: "Water/Cups",
        cards: generateMinorSuit("Kame", "üê¢", "Emotion, longevity, wisdom, protection")
      },
      tengu: {
        name: "Tengu",
        element: "Air/Swords",
        cards: generateMinorSuit("Tengu", "üë∫", "Intellect, martial skill, pride, communication")
      },
      tanuki: {
        name: "Tanuki",
        element: "Earth/Pentacles",
        cards: generateMinorSuit("Tanuki", "ü¶ù", "Material wealth, transformation, earthly pleasures, prosperity")
      }
    };

    function generateMinorSuit(name, icon, theme) {
      const cards = [];
      const numbers = ["Ace", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine", "Ten"];
      const court = ["Page", "Knight", "Queen", "King"];
      
      numbers.forEach((num, i) => {
        cards.push({
          name: `${num} of ${name}`,
          meaning: `${theme}. The energy of ${num.toLowerCase()} manifesting through ${name} qualities.`,
          icon: icon
        });
      });
      
      court.forEach(rank => {
        cards.push({
          name: `${rank} of ${name}`,
          meaning: `${theme}. The ${rank.toLowerCase()} embodies ${name} wisdom and power.`,
          icon: icon
        });
      });
      
      return cards;
    }

    let currentDeck = 'major';
    let drawnCards = [];

    function getCurrentDeck() {
      if (currentDeck === 'major') return majorArcana;
      return minorArcana[currentDeck].cards;
    }

    function shuffleArray(arr) {
      const shuffled = [...arr];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      return shuffled;
    }

    function drawCards(count) {
      const deck = getCurrentDeck();
      const shuffled = shuffleArray(deck);
      drawnCards = shuffled.slice(0, count);
      renderSpread();
    }

    function renderSpread() {
      const spread = document.getElementById('spread');
      spread.innerHTML = '';
      
      drawnCards.forEach((card, index) => {
        const cardEl = document.createElement('div');
        cardEl.className = 'card';
        cardEl.innerHTML = `
          <div class="card-back">
            <div class="card-icon">ü¶ä</div>
          </div>
          <div class="card-front">
            ${currentDeck === 'major' ? `<div class="card-number">${card.num}</div>` : ''}
            <div class="card-title">${card.name}</div>
            <div class="card-icon">${card.icon}</div>
            <div class="card-meaning">${card.meaning.substring(0, 80)}...</div>
          </div>
        `;
        
        cardEl.addEventListener('click', () => {
          if (!cardEl.classList.contains('flipped')) {
            cardEl.classList.add('flipped');
          } else {
            showModal(card);
          }
        });
        
        spread.appendChild(cardEl);
      });
    }

    function showModal(card) {
      const modal = document.getElementById('modal');
      document.getElementById('modalTitle').textContent = card.name;
      document.getElementById('modalSuit').textContent = currentDeck === 'major' ? 'Major Arcana' : minorArcana[currentDeck].element;
      document.getElementById('modalMeaning').textContent = card.meaning;
      modal.classList.add('active');
    }

    document.getElementById('drawOne').addEventListener('click', () => drawCards(1));
    document.getElementById('drawThree').addEventListener('click', () => drawCards(3));
    document.getElementById('clearSpread').addEventListener('click', () => {
      drawnCards = [];
      document.getElementById('spread').innerHTML = '';
    });

    document.getElementById('closeModal').addEventListener('click', () => {
      document.getElementById('modal').classList.remove('active');
    });

    document.querySelectorAll('.deck-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        document.querySelectorAll('.deck-btn').forEach(b => b.classList.remove('active'));
        e.target.classList.add('active');
        currentDeck = e.target.dataset.deck;
        drawnCards = [];
        document.getElementById('spread').innerHTML = '';
      });
    });

    document.getElementById('modal').addEventListener('click', (e) => {
      if (e.target.id === 'modal') {
        document.getElementById('modal').classList.remove('active');
      }
    });
  </script>
</body>
</html>